# frozen_string_literal: true

class VulnerabilityIssue
  include Mongoid::Document

  field :iid, type: Integer
  field :directory, type: String
  field :package, type: String
  field :package_ecosystem, type: String
  field :status, type: String, default: "opened"

  belongs_to :project
  belongs_to :vulnerability

  # Set vulnerability issue status to closed
  #
  # @return [void]
  def close
    update_attributes!(status: "closed")
  end
end
